---
import { Image } from 'astro:assets';
import logo from '../assets/images/xp-potion-logo.png';

const navLinks = [
  { link: '/', label: 'home' },
  { link: '/products', label: 'products' },
  { link: '/blog', label: 'blog' },
  { link: '/about', label: 'about' },
  { link: '/contact', label: 'contact' },
];
---

<header
  class='flex flex-col sticky top-0 bg-primary-sunset-orange shadow-md'
>
  <div
    class='flex justify-between flex-wrap md:flex-nowrap md:justify-normal px-5 py-2 lg:container lg:mx-auto'
  >
    <div
      class='w-20 h-20 md:w-40 md:h-40 flex justify-center items-center mx-auto md:mx-0'
    >
      <a href='/'>
        <Image
          src={logo}
          alt='XP Potion'
          widths={[100, 200, 300, 400]}
          format='png'
        />
      </a>
      <span class='sr-only'>Home</span>
    </div>

    <nav
      class='hidden md:flex justify-end items-center w-full'
      aria-label='primary navigation'
    >
      <ul
        class='flex gap-6 capitalize whitespace-nowrap text-neutral-charcoal-black font-bold text-xl font-serif'
      >
        {
          navLinks?.map((navLink) => (
            <li>
              <a
                href={navLink.link}
                class='block py-2.5 leading-none hover:underline hover:underline-offset-4'
              >
                {navLink.label}
              </a>
            </li>
          ))
        }
      </ul>
    </nav>

    <!-- Mobile menu toggle -->
    <details
      class='z-10 flex my-auto md:hidden'
      aria-label='Toggle navigation'
    >
      <summary class='flex justify-end cursor-pointer p-1.25'>
        <img
          src='/assets/icons/bars.svg'
          alt='Open menu'
          class='open-icon h-8 w-8'
          aria-hidden='true'
        />
        <img
          src='/assets/icons/close.svg'
          alt='Close menu'
          class='close-icon hidden h-8 w-8'
          aria-hidden='true'
        />
      </summary>

      <div
        class='absolute left-0 right-0 top-full bg-white border-t p-5 z-50 shadow-md'
      >
        <ul
          class='flex flex-col gap-4 font-medium capitalize text-xl'
        >
          {
            navLinks?.map((navLink) => (
              <li>
                <a
                  href={navLink.link}
                  class='block px-2 py-2.5 leading-none hover:underline hover:underline-offset-4'
                >
                  {navLink.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
    </details>
  </div>
</header>
<style>
  details[open] .open-icon {
    display: none;
  }

  details[open] .close-icon {
    display: inline;
  }

  details[open] > div {
    animation: slideDown 0.2s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-0.25rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
